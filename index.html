<!DOCTYPE html>
<html lang="en">
  <head>
    <script type="module" src="./dist/index.js" defer></script>
    <script type="module" src="example.js" defer></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Outfit&family=Rethink+Sans&family=Zilla+Slab:wght@300;400&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" type="text/css" href="./src/styles.css" />
    <meta name="viewport" content="width=device-width" />
  </head>
  <body>
    <div class="sidebar">
      <a
        href="https://github.com/jon424/javascript-countup-animation"
        rel="noopener"
        target="_blank"
        >GitHub
        <img
          style="width: 16px; position: relative; top: 4px"
          src="github-mark.png"
          alt="github logo"
      /></a>
      <a
      href="https://www.npmjs.com/package/countup-animation"
      rel="noopener"
      target="_blank"
      >NPM
      <img
        style="width: 16px; position: relative; top: 0px"
        src="npm-logo-red.png"
        alt="npm logo"
    /></a>
      <a
        href="https://www.linkedin.com/in/jonjackson424/"
        rel="noopener"
        target="_blank"
        >LinkedIn
        <img
          style="width: 16px; position: relative; top: 3px"
          src="LI-In-Bug.png"
          alt="linkedin logo"
      /></a>
      <a
        href="https://www.buymeacoffee.com/jonathanja7"
        rel="noopener"
        target="_blank"
        >Buy me a coffee ☕</a
      >
    </div>

    <main id="main">
      <h1>
        JavaScript Count-up Animation...<span id="one-hundred"> 100</span>
      </h1>

      <p>A JavaScript function to display incrementing numbers.</p>
      <div class="section">
        <h2>animateCountUp(element, duration, stepSize, startingValue)</h2>
        <ul>
          <li>
            <b>element</b> - HTML element that contains a number to be animated.
            This number can either be an integer (<em>i.e.</em> 1, 42, 23...) or have decimal values (<em>i.e.</em> 23.9, 9.04...).
          </li>
          <li>
            <b>duration</b> - total length of time of the animation in
            milliseconds. 10000 is the default.
          </li>
          <li>
            <b>stepSize</b> - the increment by which the numbers are increased.
            If the step size is <b>3</b>, then the counting would look like:
            <b>3, 6, 9, 12...</b> This feature only works if the number you are
            counting up to is an integer.
          </li>
          <li><b>startingValue</b> - The starting number.</li>
        </ul>
      </div>

      <div class="section">
        <h2>Usage</h2>
        <p>First, import the module:</p>
        <b>JavaScript</b>
        <pre><code><span class="selector">&lt;script</span> <span class="attribute">type="module"</span><span class="selector">>
        </span><span class="number">import</span> <span class="selector">animateCountUp</span> from <span class="attribute">"./dist/index.js";</span>
<span class="selector">&lt;/script></span></code></pre>
        <p>
          Now, write some HTML. For this example, we will use a container
          <span>&lt;div&gt;</span> and run the animation on each number within
          that container that has the <b>.countup</b> class. Note that you can
          have other elements with other classnames that won't interfere with
          the functionality, so we have added additional
          <span>&lt;span&gt;</span> tags that containe <b>.before-number</b> and
          <b>.after-number</b> classes. This is to show that we can have other
          characters such as dollar signs or any other type of text that you
          don't want to count up:
        </p>
        <b>HTML</b>
        <div class="code-block">
          <pre><code>
            &lt;<span class="selector">div</span> <span class="attribute">id</span>=<span class="selector">"container"</span>&gt;
              &lt;<span class="selector">ul</span>&gt;
                &lt;<span class="selector">li</span>&gt;
                  &lt;<span class="selector">span</span> class="<span class="attribute before-number ">before-number</span>"&gt;$&lt;/<span class="selector">span</span>&gt;
                  &lt;<span class="selector">span</span> class="<span class="number countup">countup</span>"&gt;45.23&lt;/<span class="selector">span</span>&gt;
                  &lt;<span class="selector">span</span> class="<span class="attribute after-number ">after-number</span>"&gt;+&lt;/<span class="selector">span</span>&gt;
                &lt;/<span class="selector">li</span>&gt;
                &lt;<span class="selector">li</span>&gt;
                  &lt;<span class="selector">span</span> class="<span class="number countup">countup</span>"&gt;91.123&lt;/<span class="selector">span</span>&gt;
                  &lt;<span class="selector">span</span> class="<span class="attribute unit after-number ">after-number</span>"&gt;%&lt;/<span class="selector">span</span>&gt;
                &lt;/<span class="selector">li</span>&gt;
                &lt;<span class="selector">li</span>&gt;
                  &lt;<span class="selector">span</span> class="<span class="before-number">before-number </span>"&gt;₣&lt;/<span class="selector">span</span>&gt;
                  &lt;<span class="selector">span</span> class="<span class="countup">number countup</span>"&gt;42&lt;/<span class="selector">span</span>&gt;
                  &lt;<span class="selector">span</span> class="<span class="after-number">after-number</span>"&gt;!&lt;/<span class="selector">span</span>&gt;
                &lt;/<span class="selector">li</span>&gt;
              &lt;/<span class="selector">ul</span>&gt;
            &lt;/<span class="selector">div</span>&gt;
            </code></pre>
        </div>
        <p>Let's trigger this animation <b>onClick()</b> using a button:</p>
        <b>HTML</b>
        <div class="code-block">
          <pre><code>
          &lt;<span class="selector">button</span> <span class="attribute">id</span>=<span class="selector">"animateButton"</span>&gt;
            Animate
          &lt;/<span class="selector">button</span>&gt;
          </code></pre>
        </div>
        <p>
          Now add JavaScript, using the <b>animateCountUp()</b> function along
          with the button as the event listener. We will also use a delay effect
          with <b>setTimeout()</b> to count each number at staggered times, each
          starting <b>700ms</b> after the previous one, in this case. We are
          also going to add a callback function to <b>animateCountUp()</b> in
          order to disable the button from being clicked again until all of the
          animations are complete.
        </p>
        <b>JavaScript</b>
        <div class="code-block">
          <pre><code>
              <span class="selector">document</span>
                .<span class="selector">getElementById</span>(<span class="attribute">"animateButton"</span>)
                .<span class="selector">addEventListener</span>(<span class="attribute">"click"</span>, () => {
                  <span class="attribute">animateButton</span>.<span class="selector">disabled</span> = <span class="keyword">true</span>;
                  <span class="keyword">const</span> container = <span class="selector">document</span>.<span class="selector">querySelector</span>(<span class="attribute">"#container"</span>);
                  <span class="keyword">const</span> countupEls = container.<span class="selector">querySelectorAll</span>(<span class="attribute">".countup"</span>);
                  <span class="keyword">const</span> totalElements = countupEls.<span class="selector">length</span>;
                  <span class="keyword">let</span> completedAnimations = <span class="number">0</span>;
              
                  countupEls.<span class="selector">forEach</span>((el, index) => {
                    <span class="selector">setTimeout</span>(() => {
                      <span class="selector">animateCountUp</span>(el, <span class="number">7000</span>, <span class="number">7</span>, <span class="keyword">null</span>, () => {
                        completedAnimations++;
              
                        // Check if all animations are completed
                        <span class="keyword">if</span> (completedAnimations === totalElements) {
                          <span class="selector">console</span>.<span class="selector">log</span>(<span class="string">"Animation finished!"</span>);
                          <span class="attribute">animateButton</span>.<span class="selector">disabled</span> = <span class="keyword">false</span>;
                        }
                      });
                    }, index * <span class="number">700</span>);
                  });
                });
              </code></pre>
        </div>
        <p>
          In this example, we search the <b>#container</b>
          <span>&lt;div&gt;</span> for any element that has the
          <b>.countup</b> class name. Then we apply the
          <b>animateCountUp()</b> function with a total duration of 7000ms, a
          step size value of 7 (only applicable to integers), and a default
          starting value of 0 (by setting <b>null</b>). The button is disabled
          until the animations are complete in order to prevent the user from
          triggering the animation again once it has been started.
        </p>
        <div id="example-container">
          <div id="container" class="example-one">
            <ul>
              <li>
                <span class="before-number">$</span
                ><span class="countup">45.23</span
                ><span class="after-number">+</span>
              </li>
              <li>
                <span class="countup">91.123</span
                ><span class="after-number">%</span>
              </li>
              <li>
                <span class="before-number">₣</span
                ><span class="countup">42</span
                ><span class="after-number">!</span>
              </li>
            </ul>
          </div>
          <button id="animateButton">Animate</button>
        </div>
      </div>
      <p>Here is another example:</p>
      <div class="section">
        <div id="example-two">
          <div id="container-two" class="example-two">
            <div class="card">
              <span class="before-number">$</span
              ><span id="countupTwo" class="countup">200</span
              ><span class="after-number">+</span>
            </div>
            <div class="card">
              <span id="countupThree" class="countup">18.76</span
              ><span class="after-number">%</span>
            </div>

            <div class="card">
              <span class="before-number">😎</span
              ><span id="countupFour" class="countup">185.32</span
              ><span class="after-number">!</span>
            </div>
          </div>

          <button id="animateButtonTwo">Animate</button>
        </div>

        <p>
          This is very similar to the first example, with different arguments
          passed into <b>animateCountUp()</b>, and starting each animation
          <b>500ms</b> after the previous one by updating the
          <b>setTimeout()</b> function:
        </p>
        <b>HTML</b>
        <div class="code-block">
          <pre><code>
            &lt;<span class="selector">div</span> id="<span class="attribute">container-two</span>" class="<span class="attribute">example-two</span>"&gt;
              &lt;<span class="selector">div</span> class="<span class="attribute">card</span>"&gt;
                &lt;<span class="selector">span</span> class="<span class="attribute before-number">before-number</span>"&gt;$&lt;/<span class="selector">span</span>&gt;
                &lt;<span class="selector">span</span> id="<span class="attribute countupTwo">countupTwo</span>" class="<span class="number countup">countup</span>"&gt;200&lt;/<span class="selector">span</span>&gt;
                &lt;<span class="selector">span</span> class="<span class="attribute after-number">after-number</span>"&gt;+&lt;/<span class="selector">span</span>&gt;
              &lt;/<span class="selector">div</span>&gt;
              &lt;<span class="selector">div</span> class="<span class="attribute">card</span>"&gt;
                &lt;<span class="selector">span</span> id="<span class="attribute countupThree">countupThree</span>" class="<span class="number countup">countup</span>"&gt;18.76&lt;/<span class="selector">span</span>&gt;
                &lt;<span class="selector">span</span> class="<span class="attribute unit after-number">after-number</span>"&gt;%&lt;/<span class="selector">span</span>&gt;
              &lt;/<span class="selector">div</span>&gt;
              &lt;<span class="selector">div</span> class="<span class="attribute">card</span>"&gt;
                &lt;<span class="selector">span</span> class="<span class="attribute before-number">before-number</span>"&gt;😎&lt;/<span class="selector">span</span>&gt;
                &lt;<span class="selector">span</span> id="<span class="attribute countupFour">countupFour</span>" class="<span class="number countup">countup</span>"&gt;185.32&lt;/<span class="selector">span</span>&gt;
                &lt;<span class="selector">span</span> class="<span class="attribute after-number">after-number</span>"&gt;!&lt;/<span class="selector">span</span>&gt;
              &lt;/<span class="selector">div</span>&gt;
            &lt;/<span class="selector">div</span>&gt;
            
            &lt;<span class="selector">button</span> id="<span class="attribute">animateButtonTwo</span>"&gt;Animate&lt;/<span class="selector">button</span>&gt;
            </code></pre>
        </div>
        <b>JavaScript</b>
        <div class="code-block">
          <pre><code>
          <span class="selector">document</span>
            .<span class="selector">getElementById</span>(<span class="attribute">"animateButtonTwo"</span>)
            .<span class="selector">addEventListener</span>(<span class="attribute">"click"</span>, () => {
              <span class="attribute">animateButtonTwo</span>.<span class="selector">disabled</span> = <span class="keyword">true</span>;
              <span class="keyword">const</span> container = <span class="selector">document</span>.<span class="selector">querySelector</span>(<span class="attribute">"#container-two"</span>);
              <span class="keyword">const</span> countupEls = container.<span class="selector">querySelectorAll</span>(<span class="attribute">".countup"</span>);
              <span class="keyword">const</span> totalElements = countupEls.<span class="selector">length</span>;
              <span class="keyword">let</span> completedAnimations = <span class="number">0</span>;
          
              countupEls.<span class="selector">forEach</span>((el, index) => {
                <span class="selector">setTimeout</span>(() => {
                  <span class="selector">animateCountUp</span>(el, <span class="number">3500</span>, <span class="number">1</span>, <span class="number">0</span>, () => {
                    completedAnimations++;
                    <span class="keyword">if</span> (completedAnimations === totalElements) {
                      <span class="attribute">animateButtonTwo</span>.<span class="selector">disabled</span> = <span class="keyword">false</span>;
                    }
                  });
                }, index * <span class="number">500</span>);
              });
            });
          </code></pre>
        </div>
      </div>

      <div class="section">
        <h2>On Scroll</h2>
        <p>
          This function can also be triggered on scroll using JavaScript's
          Intersection Observer API. Keep scrolling past the code example to
          trigger the animation once the elements enter the viewport:
        </p>
        <b>HTML</b>
        <div class="code-block">
          <pre><code>
  &lt;<span class="selector">div</span> <span class="attribute">id</span>=<span class="selector">"container-four"</span>&gt;
    &lt;<span class="selector">h2</span>&gt;This example is triggered on scroll&lt;/<span class="selector">h2</span>&gt;
    &lt;<span class="selector">ul</span>&gt;
      &lt;<span class="selector">li</span>&gt;
        &lt;<span class="selector">span</span> class="<span class="attribute before-number">before-number</span>"&gt;$&lt;/<span class="selector">span</span>&gt;
        &lt;<span class="selector">span</span> id="<span class="attribute countupTwo">countupTwo</span>" class="<span class="number countup">countup</span>"&gt;200&lt;/<span class="selector">span</span>&gt;
        &lt;<span class="selector">span</span> class="<span class="attribute after-number">after-number</span>"&gt;+&lt;/<span class="selector">span</span>&gt;
      &lt;/<span class="selector">li</span>&gt;
      &lt;<span class="selector">li</span>&gt;
        &lt;<span class="selector">span</span> id="<span class="attribute countupThree">countupThree</span>" class="<span class="number countup">countup</span>"&gt;304.7&lt;/<span class="selector">span</span>&gt;
        &lt;<span class="selector">span</span> class="<span class="attribute unit after-number">after-number</span>"&gt;%&lt;/<span class="selector">span</span>&gt;
      &lt;/<span class="selector">li</span>&gt;
      &lt;<span class="selector">li</span>&gt;
        &lt;<span class="selector">span</span> class="<span class="attribute before-number">before-number</span>"&gt;+&lt;/<span class="selector">span</span>&gt;
        &lt;<span class="selector">span</span> id="<span class="attribute countupFour">countupFour</span>" class="<span class="number countup">countup</span>"&gt;430.32&lt;/<span class="selector">span</span>&gt;
        &lt;<span class="selector">span</span> class="<span class="attribute after-number">after-number</span>"&gt;!&lt;/<span class="selector">span</span>&gt;
      &lt;/<span class="selector">li</span>&gt;
    &lt;/<span class="selector">ul</span>&gt;
  &lt;/<span class="selector">div</span>&gt;
  </code></pre>
        </div>
        <b>JavaScript</b>
        <div class="code-block">
          <pre><code>
  <span class="keyword">const</span> containerObserver = <span class="keyword">new</span> <span class="selector">IntersectionObserver</span>((entries) => {
    entries.<span class="selector">forEach</span>((entry) => {
      <span class="keyword">if</span> (entry.<span class="selector">isIntersecting</span>) {
        <span class="keyword">const</span> countupEls = entry.<span class="selector">target</span>.<span class="selector">querySelectorAll</span>(<span class="attribute">".countup"</span>);
        countupEls.<span class="selector">forEach</span>((el, index) => {
          <span class="selector">setTimeout</span>(() => {
            <span class="selector">animateCountUp</span>(el, <span class="number">4000</span>, <span class="number">1</span>, <span class="number">0</span>);
          }, index * <span class="number">700</span>);
        });
  
        containerThreeObserver.<span class="selector">unobserve</span>(entry.<span class="selector">target</span>);
      }
    });
  });
  
  <span class="comment">// Observe the container div</span>
  containerObserver.<span class="selector">observe</span>(
    <span class="selector">document</span>.<span class="selector">getElementById</span>(<span class="attribute">"container"</span>)
  );
  </code></pre>
        </div>
        <div class="spacer"></div>
        <div id="container-four">
          <h2>This example is triggered on scroll</h2>
          <ul>
            <li>
              <span class="before-number">$</span
              ><span id="countupTwo" class="countup">200</span
              ><span class="after-number">+</span>
            </li>
            <li>
              <span id="countupThree" class="countup">304.7</span
              ><span class="after-number">%</span>
            </li>

            <li>
              <span class="before-number">+</span
              ><span id="countupFour" class="countup">430.32</span
              ><span class="after-number">!</span>
            </li>
          </ul>
        </div>
      </div>
    </main>
    <div class="footer">
      <a
        href="https://github.com/jon424/javascript-countup-animation"
        rel="noopener"
        target="_blank"
        >GitHub
        <img
          style="width: 16px; position: relative; top: 4px"
          src="github-mark.png"
          alt="github logo"
      /></a>
      <a
      href="https://www.npmjs.com/package/countup-animation"
      rel="noopener"
      target="_blank"
      >NPM
      <img
        style="width: 16px; position: relative; top: 0px"
        src="npm-logo-red.png"
        alt="npm logo"
    /></a>
      <a
        href="https://www.linkedin.com/in/jonjackson424/"
        rel="noopener"
        target="_blank"
        >LinkedIn
        <img
          style="width: 16px; position: relative; top: 3px"
          src="LI-In-Bug.png"
          alt="linnkedin logo"
      /></a>
      <a
        href="https://www.buymeacoffee.com/jonathanja7"
        rel="noopener"
        target="_blank"
        >Buy me a coffee ☕</a
      >
    </div>
  </body>
</html>
